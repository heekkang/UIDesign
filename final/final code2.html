<!DOCTYPE html>
<html>
      <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>사이트 제목</title>
  <style>
    #map {
      height: 100vh; /* 맵이 전체화면으로 표시될 수 있도록 설정 */
    }
  </style>
</head>
<body>
  <div id="map"></div>


  <script>
    function initMap() {
      // 구글 맵 초기화 및 기본 설정
      var mapOptions = {
        zoom: 12, // 초기 줌 레벨 설정
        center: { lat: 37.5, lng: 127 }, // 지도의 중심 좌표 설정
      };

      // 맵 생성
      var map = new google.maps.Map(document.getElementById('map'), mapOptions);

      // 사용자 위치 마커 추가
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
          var userMarker = new google.maps.Marker({
            position: {
              lat: position.coords.latitude,
              lng: position.coords.longitude,
            },
            map: map,
            title: '현재 위치',
          });
        });
      }

      // 지도 클릭 이벤트 핸들러
      google.maps.event.addListener(map, 'click', function (event) {
        placeMarker(event.latLng);
      });

      // 마커 생성 및 오버레이 창 표시 함수
      function placeMarker(location) {
        var marker = new google.maps.Marker({
          position: location,
          map: map,
        });

        // 마커 클릭 이벤트 핸들러
        google.maps.event.addListener(marker, 'click', function () {
          openOverlay(marker);
        });
      }

      // 오버레이 창 표시 함수
      function openOverlay(marker) {
        // 오버레이 창 생성 및 내용 추가
        var overlay = new google.maps.OverlayView();
        overlay.draw = function () {
          // 오버레이 창을 표시할 위치 설정
          var markerPosition = overlay.getProjection().fromLatLngToDivPixel(marker.getPosition());

          // 오버레이 창 내용 작성 (텍스트와 이미지 등)
          var overlayContent = document.createElement('div');
          overlayContent.innerHTML = 
            <div>
              <h2>오버레이 창</h2>
              <p>텍스트 내용...</p>
             
            </div>
          ;

          // 오버레이 창 스타일 및 위치 설정
          overlayContent.style.position = 'absolute';
          overlayContent.style.left = markerPosition.x + 'px';
          overlayContent.style.top = markerPosition.y + 'px';

          // 오버레이 창 추가
          document.body.appendChild(overlayContent);
        };
        overlay.setMap(map);
      }
    }
  </script>
  <!-- 구글 맵 API 로드 -->
  <script  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBaNhQzXZwM1cH3flIcqlQVBBkNHaqpD_Y&callback=initMap" async defer></script>

</body>
</html>
